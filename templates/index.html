<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TopPage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/index.css')}}">
</head>


<body>
    <header id="header">
        <div id="date"></div>
        <h2 id="header_title">TopPage</h2>
    </header>
    <section>
        <!-- メッセージの表示領域を追加 -->
        <div id="message-container" role="alert" style="display: none;"></div>
        <div id="error-container" role="alert" style="display: none;"></div>
    </section>
    <div class="container text-center">
        <div class="row">
            <div align="left">
                年月日
            </div>
            <br>
            <div class="button">
                <div class="button1">
                <a href="{{url_for('remove_page')}}">
                    <button type="button" class="btn btn-danger">削除</button>
                </a>
                </div>
                <div class="button2">
                <a href="{{url_for('add_page')}}">
                    <button type="button" class="btn btn-primary">追加</button>
                </a>
                </div>
            </div>
        </div>

        <h2>タスクリスト</h2>
        <div class="table-scrool">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>課題名</th>
                        <th>講義名</th>
                        <th>重要度</th>
                        <th>残り時間</th>
                    </tr>
                </thead>
                <tbody>
                    {% for key in keys %}
                    <tr id="{{key}}">
                        <td>{{data_dict[key]["title"]}}</td>
                        <td>{{data_dict[key]["subject"]}}</td>
                        <td>
                            <div class="rating">
                                <input class="rating__input hidden--visually" type="radio" id="5-star" name="star_num" value="5" {{ "checked" if data_dict[key]["star_num"] == 5 else "" }} required />
                                <label class="rating__label" for="5-star" title="星5つ"><span class="rating__icon" aria-hidden="true"></span><span class="hidden--visually">星5つ</span></label>
                                <input class="rating__input hidden--visually" type="radio" id="4-star" name="star_num" value="4" {{ "checked" if data_dict[key]["star_num"] == 4 else "" }}/>
                                <label class="rating__label" for="4-star" title="星4つ"><span class="rating__icon" aria-hidden="true"></span><span class="hidden--visually">星4つ</span></label>
                                <input class="rating__input hidden--visually" type="radio" id="3-star" name="star_num" value="3" {{ "checked" if data_dict[key]["star_num"] == 3 else "" }}/>
                                <label class="rating__label" for="3-star" title="星3つ"><span class="rating__icon" aria-hidden="true"></span><span class="hidden--visually">星3つ</span></label>
                                <input class="rating__input hidden--visually" type="radio" id="2-star" name="star_num" value="2" {{ "checked" if data_dict[key]["star_num"] == 2 else "" }}/>
                                <label class="rating__label" for="2-star" title="星2つ"><span class="rating__icon" aria-hidden="true"></span><span class="hidden--visually">星2つ</span></label>
                                <input class="rating__input hidden--visually" type="radio" id="1-star" name="star_num" value="1" {{ "checked" if data_dict[key]["star_num"] == 1 else "" }}/>
                                <label class="rating__label" for="1-star" title="星1つ"><span class="rating__icon" aria-hidden="true"></span><span class="hidden--visually">星1つ</span></label>
                            </div>
                        </td>
                        <td class="deadline" data-deadline="{{data_dict[key]["deadline"]}}"></td>
                    </tr>
                    {% endfor %}
                    <!-- <tr>
                        <td>かだい１</td>
                        <td>こうぎ１</td>
                        <td>1日</td>
                    </tr>
                    <tr>
                        <td>かだい２</td>
                        <td>こうぎ２</td>
                        <td>8時間</td>
                    </tr>
                    <tr>
                        <td>かだい３</td>
                        <td>こうぎ３</td>
                        <td>10分</td>
                    </tr>
                    <tr>
                        <td>かだい３</td>
                        <td>こうぎ３</td>
                        <td>10分</td>
                    </tr>
                    <tr>
                        <td>かだい３</td>
                        <td>こうぎ３</td>
                        <td>10分</td>
                    </tr>
                    <tr>
                        <td>かだい３</td>
                        <td>こうぎ３</td>
                        <td>10分</td>
                    </tr>
                    <tr>
                        <td>かだい３</td>
                        <td>こうぎ３</td>
                        <td>10分</td>
                    </tr>
                    <tr>
                        <td>かだい３</td>
                        <td>こうぎ３</td>
                        <td>10分</td>
                    </tr> -->
                </tbody>
            </table>
        </div>
            <br>
            <div class="button">
                <div class="button1">
                    <a href="{{url_for('search_page')}}">
                        <button type="button" class="btn btn-dark">検索</button>
                    </a>
                </div>
                <div class="button2">
                    <a href="{{url_for('sort_page')}}">
                        <button type="button" class="btn btn-dark">並び替え</button>
                    </a>
                </div>
            </div>
        </div>
{#    仮 #}
    <button onclick="requestPushPermission()">通知を許可</button>
    <!-- push.js ライブラリを読み込む -->
    <script src="{{ url_for('static', filename='js/push.js') }}"></script>
    <script src="{{ url_for('static', filename='js/push_notice.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

<script type="module" src="{{url_for('static', filename='js/index.js')}}"></script>

</body>
</html>